

<link rel="import" href="behavior.html">

<dom-module id="avatar-item">
	<template>
		<style include="k-ui">
			:host{
				@apply(--launchable-frame);
				@apply(--launchable-size);
				@apply(--launchable-circle);
				/*box-shadow:inset 0 1px 0 2px rgba(46, 46, 65, 0.69);*/
			}
			img{
				@apply(--launchable-img-width);
				background-color: #fdfdfd;
				border-radius: 50%;
			}
			#avatar{
				position: relative;
				height:100%;
				width: 100%;
			}
		</style>
		<img id="avatar" src$="[[avatar.src]]">
	</template>
	<script>

		Polymer({
			is: "avatar-item",
			behaviors:[ProfileAvatars.AvatarBehavior],
			properties:{
				menuButton:{type:Boolean,reflectToAttribute:true}
			},
			handleEvents(e){
				var data = e.detail;
				switch (e.type){
					case 'avatar':
						this.avatar=data;
						break;
					default: break;
				}
			},
			listeners:{ 'tap':'_tap' },
			_tap(e){
				if(this.menuButton) return;
				window.dispatchEvent(new CustomEvent('avatars',{detail:this,bubbles:true}))
//				window.document.querySelector('#avatars').present(this);
			}
		});

	</script>
</dom-module>