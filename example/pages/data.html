<template id="data-page">
	<style>
		@import "/modules/wwi/component/design/host.css";
		data-form,
		drop-box,
		[drop-view]{
			box-shadow:0 0 0 1px var(--gray);
			border-radius: 7px;
			padding:15px;
		}
		drop-box{
			background: var(--sea-emerald-bg);
		}

		[view]{
			max-height:calc(100% - 20px);
			overflow-y: auto;
			background: var(--sea-emerald-bg);
		}
		[title-view],
		[drop-view]{
			padding:15px;
			font-size:20px;
			font-weight: 900;
			margin:20px;
		}
		[drop-view] > *{
			position: relative;
			max-width: calc(100% - 20px);
			border-radius: 7px;
			display: block;
			margin:10px auto;
		}
	</style>
	<div view>
		<div gui relative horizontal center-center title-view>
			data-form & drop-box
		</div>
		<div gui relative horizontal around wrap>
			<data-form></data-form>
			<drop-box  big-title>
				Drop A Graphic
			</drop-box>

		</div>
		<div drop-view></div>
	</div>
</template>
<script>
	(function (doc) {
		const DataPage = wwi.page(doc)
		DataPage(class extends DataPage.Element {
			get box(){ return this.query('drop-box') }
			connected(){

				this.box.on('data',e=>{
					let data = e.detail
					let img = document.createElement('img')
					img.src = data.value
					this.query('[drop-view]').appendChild(img)
				})

				this.form.items = {
					email:{
						type:'text',
						placeholder:'Enter your name'
					},
					password:{
						type:'password',
						attributes:{
							placeholder:'Enter your password'
						}

					}
				}

				this.form.on('valid',(e)=>{
					console.log('valid event',e)
				})

				this.form.on('invalid',(e)=>{
					console.log('invalid event',e)
				})


			}
			get form(){ return this.query('data-form') }

		})
	})(document)
</script>