<template id="art-graphic">
    <style>
        @import "modules/wwi/component/design/host.css";
        :host{
            display:block;
	        position: relative;
        }
	    img{
		    position: relative;
		    display: block;
		    box-sizing: border-box;
		    width:100%;
		    height: auto;
	    }


        [color-detector-frame] {
	        -webkit-animation: animation 950ms linear both;
	        animation: animation 950ms linear both;
	        will-change:opacity;
	        opacity: 1;
	        transition-property: opacity;
	        transition-timing-function: ease-out;
        }
        :host(:hover) [color-detected-frame]{
	        opacity: 0;
        }

        /* Generated with Bounce.js. Edit at https://goo.gl/s353Gf */

        @-webkit-keyframes animation {
	        0% { -webkit-transform: matrix3d(2, 0, 0, 0, 0, 2, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); transform: matrix3d(2, 0, 0, 0, 0, 2, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
	        3.2% { -webkit-transform: matrix3d(1.655, 0.472, 0, 0, 0.31, 1.655, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); transform: matrix3d(1.655, 0.472, 0, 0, 0.31, 1.655, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
	        4.5% { -webkit-transform: matrix3d(1.515, 0.509, 0, 0, 0.333, 1.515, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); transform: matrix3d(1.515, 0.509, 0, 0, 0.333, 1.515, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
	        6.41% { -webkit-transform: matrix3d(1.327, 0.478, 0, 0, 0.312, 1.327, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); transform: matrix3d(1.327, 0.478, 0, 0, 0.312, 1.327, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
	        9.01% { -webkit-transform: matrix3d(1.12, 0.367, 0, 0, 0.24, 1.12, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); transform: matrix3d(1.12, 0.367, 0, 0, 0.24, 1.12, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
	        12.71% { -webkit-transform: matrix3d(0.936, 0.212, 0, 0, 0.14, 0.936, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); transform: matrix3d(0.936, 0.212, 0, 0, 0.14, 0.936, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
	        13.51% { -webkit-transform: matrix3d(0.913, 0.185, 0, 0, 0.123, 0.913, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); transform: matrix3d(0.913, 0.185, 0, 0, 0.123, 0.913, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
	        17.92% { -webkit-transform: matrix3d(0.861, 0.079, 0, 0, 0.053, 0.861, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); transform: matrix3d(0.861, 0.079, 0, 0, 0.053, 0.861, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
	        18.92% { -webkit-transform: matrix3d(0.863, 0.063, 0, 0, 0.042, 0.863, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); transform: matrix3d(0.863, 0.063, 0, 0, 0.042, 0.863, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
	        25.23% { -webkit-transform: matrix3d(0.925, -0.001, 0, 0, -0.001, 0.925, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); transform: matrix3d(0.925, -0.001, 0, 0, -0.001, 0.925, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
	        29.03% { -webkit-transform: matrix3d(0.968, -0.014, 0, 0, -0.01, 0.968, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); transform: matrix3d(0.968, -0.014, 0, 0, -0.01, 0.968, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
	        31.43% { -webkit-transform: matrix3d(0.988, -0.016, 0, 0, -0.011, 0.988, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); transform: matrix3d(0.988, -0.016, 0, 0, -0.011, 0.988, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
	        34.63% { -webkit-transform: matrix3d(1.006, -0.015, 0, 0, -0.01, 1.006, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); transform: matrix3d(1.006, -0.015, 0, 0, -0.01, 1.006, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
	        40.14% { -webkit-transform: matrix3d(1.015, -0.008, 0, 0, -0.005, 1.015, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); transform: matrix3d(1.015, -0.008, 0, 0, -0.005, 1.015, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
	        56.46% { -webkit-transform: matrix3d(1, 0.001, 0, 0, 0.001, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); transform: matrix3d(1, 0.001, 0, 0, 0.001, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
	        62.36% { -webkit-transform: matrix3d(0.998, 0.001, 0, 0, 0, 0.998, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); transform: matrix3d(0.998, 0.001, 0, 0, 0, 0.998, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
	        81.48% { -webkit-transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
	        84.68% { -webkit-transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
	        100% { -webkit-transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
        }

        @keyframes animation {
	        0% { -webkit-transform: matrix3d(2, 0, 0, 0, 0, 2, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); transform: matrix3d(2, 0, 0, 0, 0, 2, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
	        3.2% { -webkit-transform: matrix3d(1.655, 0.472, 0, 0, 0.31, 1.655, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); transform: matrix3d(1.655, 0.472, 0, 0, 0.31, 1.655, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
	        4.5% { -webkit-transform: matrix3d(1.515, 0.509, 0, 0, 0.333, 1.515, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); transform: matrix3d(1.515, 0.509, 0, 0, 0.333, 1.515, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
	        6.41% { -webkit-transform: matrix3d(1.327, 0.478, 0, 0, 0.312, 1.327, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); transform: matrix3d(1.327, 0.478, 0, 0, 0.312, 1.327, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
	        9.01% { -webkit-transform: matrix3d(1.12, 0.367, 0, 0, 0.24, 1.12, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); transform: matrix3d(1.12, 0.367, 0, 0, 0.24, 1.12, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
	        12.71% { -webkit-transform: matrix3d(0.936, 0.212, 0, 0, 0.14, 0.936, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); transform: matrix3d(0.936, 0.212, 0, 0, 0.14, 0.936, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
	        13.51% { -webkit-transform: matrix3d(0.913, 0.185, 0, 0, 0.123, 0.913, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); transform: matrix3d(0.913, 0.185, 0, 0, 0.123, 0.913, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
	        17.92% { -webkit-transform: matrix3d(0.861, 0.079, 0, 0, 0.053, 0.861, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); transform: matrix3d(0.861, 0.079, 0, 0, 0.053, 0.861, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
	        18.92% { -webkit-transform: matrix3d(0.863, 0.063, 0, 0, 0.042, 0.863, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); transform: matrix3d(0.863, 0.063, 0, 0, 0.042, 0.863, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
	        25.23% { -webkit-transform: matrix3d(0.925, -0.001, 0, 0, -0.001, 0.925, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); transform: matrix3d(0.925, -0.001, 0, 0, -0.001, 0.925, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
	        29.03% { -webkit-transform: matrix3d(0.968, -0.014, 0, 0, -0.01, 0.968, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); transform: matrix3d(0.968, -0.014, 0, 0, -0.01, 0.968, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
	        31.43% { -webkit-transform: matrix3d(0.988, -0.016, 0, 0, -0.011, 0.988, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); transform: matrix3d(0.988, -0.016, 0, 0, -0.011, 0.988, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
	        34.63% { -webkit-transform: matrix3d(1.006, -0.015, 0, 0, -0.01, 1.006, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); transform: matrix3d(1.006, -0.015, 0, 0, -0.01, 1.006, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
	        40.14% { -webkit-transform: matrix3d(1.015, -0.008, 0, 0, -0.005, 1.015, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); transform: matrix3d(1.015, -0.008, 0, 0, -0.005, 1.015, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
	        56.46% { -webkit-transform: matrix3d(1, 0.001, 0, 0, 0.001, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); transform: matrix3d(1, 0.001, 0, 0, 0.001, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
	        62.36% { -webkit-transform: matrix3d(0.998, 0.001, 0, 0, 0, 0.998, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); transform: matrix3d(0.998, 0.001, 0, 0, 0, 0.998, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
	        81.48% { -webkit-transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
	        84.68% { -webkit-transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
	        100% { -webkit-transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
        }




    </style>
	<img color-detector-target>
</template>
<script>

    (function(doc){
        const ArtGraphic = wwi.element(doc).extension(...components.art.mix('ColorDetector'))
	    ArtGraphic(class extends ArtGraphic.Element{
	    	constructor(){
	    		super('routes',{
	    			auto_track:true,
	    			url(value){ if(value !== null){ set_image_source(this,value) } }
			    })
		    }
			get image(){ return this.query('[color-detector-target]') }
        })
		//shared actions
		function set_image_source(element,source){
			element.image.addEventListener('load',function image_loaded(event){
				element.image.setAttribute('loaded','')
				element.image.dispatchEvent(new CustomEvent('loaded',{detail:event}))
			})
			element.image.src = source
			if(element.auto_track) element.color_detector.start()
			return element
		}
    })(document)
</script>
