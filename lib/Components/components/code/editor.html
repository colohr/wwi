<template id="code-editor-template">
	<style>
		@import "/custom-elements/code/design.css";

		:host {
			display: block;
			position: relative;
		}
	</style>

	<div frame>
		<div code name="code"></div>
	</div>
	<code-bar></code-bar>

</template>
<script>
	(doc => {
		const CodeEditor = wwi.element(doc)
		const Editor = fxy.require('code/Editor')

		CodeEditor(class extends Editor(CodeEditor.Element) {
			constructor(){
				super('routes',{
					language(value){
						if(value !== null) this.code.option = ["mode", value]
					},
					theme(value){
						if(value !== null) this.code.option = ["theme", value]
					}
				})
			}
			get bar() { return this.query('code-bar') }
			connected(){
				super.connected(this.bar)
			}
			get cursor() { return this.code.getCursor() }
			get view() { return this.query('[code]') }
		})
	})(document)
</script>
