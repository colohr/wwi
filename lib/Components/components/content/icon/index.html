<template id="content-icon">
    <style>
        :host{
            display:inline-block;
	        position:relative;
            color:var(--color,inherit);
        }
	    svg{
		    position:relative;
		    display:block;
		    height:100%;
		    width:100%;
            fill:currentColor;
	    }
        :host([image]){
            height:100%;
            width:100%;
        }
        [graphic]{
            position: relative;
            display: block;
            height:100%;
            width: 100%;
            background-repeat: no-repeat;
            background-position: center center;
            background-size: 100% auto;
        }
    </style>

</template>
<script>
    (function(doc){
        const ContentIcon = wwi.element(doc)
	    ContentIcon(class extends ContentIcon.Element{
            constructor(){
            	super('routes',{
		            image(value){ if(value !== null) this.set_graphic_icon(value) },
                    ['image-size'](value){
		            	if(value !== null) this.graphic.style.backgroundSize = value;
		            },
		            ['image-position'](value){
			            if(value !== null) this.graphic.style.backgroundPosition = value;
		            },
            		name(value){ if(value !== null) this.set_icon(value) },
            		set:true
	            })
            }
            get graphic(){
            	let graphic = this.query('[graphic]')
	            if(!graphic){
		            graphic = document.createElement('div')
		            graphic.setAttribute('graphic','')
		            this.shadow.appendChild(graphic)
	            }
	            return graphic
            }
            get svg(){ return this.query('svg') }
		    set_graphic_icon(value){
			    this.graphic.style.backgroundImage = `url(${value})`
                return this
            }
	        set_icon(value){
            	let svg = this.svg
		        if(svg) svg.remove()
		        if(value !== null){
            		let set = this.set === null ? 'app':this.set
			        let icon_set = fxy.require('design/icons')[set]
                    if(icon_set){
			        	let icon = icon_set[value]
	                    if(icon) this.shadow.appendChild(icon)
                    }

		        }
            }
        })
    })(document)
</script>
