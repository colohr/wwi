<template id="navigator-component">
    <style>
		@import "components/navigator/design/component.css";
	    search-component{
		    background:var(--navigator-background);
		    left:90px;
		    --input-left:-45px;
	    }
	    [buttons]{
		    position: relative;
		    width: 90px;
	    }
    </style>
    <div container gui horizontal center-center justified>
	    <div buttons>
		    <navigator-back keep-focus></navigator-back>
		    <navigator-next keep-focus></navigator-next>
	    </div>
	    <slot></slot>
	    <div buttons>
		    <slot name="right"></slot>
	    </div>
    </div>
</template>
<script>
    (function(doc){
        const NavigatorComponent = wwi.element(doc).extension(...components.search.extension('Controller'))
	    NavigatorComponent(class extends NavigatorComponent.Element{
        	constructor(){super({show:true})}
	        connected(){
		        this.on.searching = e => {
		        	this.all('[role="button"]').forEach(button=>{
				        if(!button.hasAttribute('search-close-button') && !button.hasAttribute('keep-focus')) button.setAttribute('tabindex','-1')
			        })
		        }
		        this.on.done = e => {
			        this.all('[role="button"]').forEach(button=>{
			        	if(!button.hasAttribute('search-close-button') && !button.hasAttribute('keep-focus')) button.setAttribute('tabindex','0')
			        })
		        }

	        }

            
        })

    })(document)
</script>
