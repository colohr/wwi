<template id="tab-view">
	<style>
		@import "modules/wwi/design/host.css";
		:host {
			box-sizing: border-box;

			display:inline-flex;

			flex-grow: 1;

			height:100%;

			max-height:100%;
			max-width: 30px;
			min-width:30px;

			opacity: 0.2;

			pointer-events: none;
			position:relative;
		}
		:host([aria-expanded="true"]){
			opacity:1;
			flex-grow: 5;
			max-width: none;
			pointer-events: auto;
			width:100%;
			box-shadow: 0 0 0 1px rgb(208, 208, 208);
		}
	</style>
	<slot id="items">View</slot>
</template>
<script>
	(function (doc) {
		let View = wwi.element(doc)
		View(class extends View.Element{
			constructor(){
				super('routes',{
					expanded(value){
						if(value !== null){
							this.setAttribute('aria-expanded','true')
							this.notify_contents()
						}
						else this.setAttribute('aria-expanded','false')
					}
				})
			}
			connected(){
				this.aria.role = 'tabpanel'
				this.setAttribute('aria-expanded','false')
				this.setAttribute('aria-disabled','false')
				this.handle = document.createElement('tab-handle')
				this.handle.label = this.getAttribute('id')
			}
			notify_contents(){
				let event = new CustomEvent('expanded',{detail:this})
				let items = this.slots.content.items
				for(let item of items) item.dispatchEvent(event)
			}
		})
	})(document)
</script>